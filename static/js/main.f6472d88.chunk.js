(this["webpackJsonppatternica-test-task"]=this["webpackJsonppatternica-test-task"]||[]).push([[0],{11:function(e,t,n){e.exports={inputEl:"ImageLoader_inputEl__2MTRm",btnEl:"ImageLoader_btnEl__10QFw"}},12:function(e,t,n){e.exports={container:"Container_container__1w5MW"}},15:function(e,t,n){e.exports={enter:"pop_enter__3das_",enterActive:"pop_enterActive__CJhgm",exit:"pop_exit__2mK5S",exitActive:"pop_exitActive__15Rex"}},16:function(e,t,n){e.exports={galleryMainBlock:"GalleryMain_galleryMainBlock__-oQn4"}},17:function(e,t,n){e.exports={galleryBlock:"GalleryContainer_galleryBlock__2FI5T"}},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(4),i=n.n(c),l=n(12),r=n.n(l),s=n(1),o=function(e){var t=e.children;return Object(s.jsx)("div",{className:r.a.container,children:t})};o.defaultProps={children:[]};var u=o,m=n(18),d=n(13),g=n(14),p=n(20),j=n(19),_=n(11),f=n.n(_),h=function(e){var t=e.onChange,n=Object(a.useRef)();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{children:Object(s.jsx)("input",{ref:n,className:f.a.inputEl,type:"file",accept:"image/*",onChange:t})}),Object(s.jsx)("button",{type:"button",className:f.a.btnEl,onClick:function(){n.current.click()},children:"Add files"})]})},b=n(6),x=n.n(b),v=n(34),O=n(33),k=n(15),y=n.n(k),I=function(e){var t=e.allImages,n=e.onDelete,a=x.a.mainBlock,c=x.a.imageBlock,i=x.a.image,l=x.a.nameText,r=x.a.deleteBtn;return Object(s.jsx)(v.a,{className:a,children:t.map((function(e){var t=e.name,a=e.imageURL;return Object(s.jsx)(O.a,{timeout:3e3,classNames:y.a,children:Object(s.jsxs)("figure",{className:c,children:[Object(s.jsx)("img",{src:a,className:i,alt:"",width:"200px"}),Object(s.jsx)("figcaption",{className:l,children:t}),Object(s.jsx)("button",{type:"button",className:r,onClick:function(){return n(t)},children:"Delete"})]})},t)}))})};I.defaultProps={allImages:[],name:"",imageURL:""};var B=I,C=n(16),F=n.n(C),N=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={selectedFiles:[]},e.handleInputChange=function(t){var n=t.target.files[0];e.upLoadImage(n)},e.upLoadImage=function(t){var n=new FileReader;n.onload=function(n){var a=n.target.result,c=e.state.selectedFiles,i={imageURL:a,name:t.name};c.filter((function(e){return e.name===i.name})).length>0?alert("This file already in gallery"):e.setState((function(e){var t=e.selectedFiles;return{selectedFiles:[].concat(Object(m.a)(t),[i])}}))},n.readAsDataURL(t)},e.deleteImage=function(t){e.setState((function(e){return{selectedFiles:e.selectedFiles.filter((function(e){return e.name!==t}))}}))},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("images"),t=JSON.parse(e);t&&this.setState({selectedFiles:t})}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.selectedFiles;localStorage.setItem("images",JSON.stringify(n))}},{key:"render",value:function(){var e=this.state.selectedFiles;return Object(s.jsxs)("div",{className:F.a.galleryMainBlock,children:[Object(s.jsx)(h,{onChange:this.handleInputChange}),Object(s.jsx)(B,{allImages:e,onDelete:this.deleteImage})]})}}]),n}(a.Component),S=n(17),E=n.n(S),L=function(){return Object(s.jsx)("div",{className:E.a.galleryBlock,children:Object(s.jsx)(N,{})})},R=function(){return Object(s.jsx)(u,{children:Object(s.jsx)(L,{})})};n(29),n(30);i.a.render(Object(s.jsx)(R,{}),document.getElementById("root"))},6:function(e,t,n){e.exports={mainBlock:"ImageCard_mainBlock__3iPFS",imageBlock:"ImageCard_imageBlock__UbYEh",image:"ImageCard_image__3v77_",nameText:"ImageCard_nameText__6hKJV",deleteBtn:"ImageCard_deleteBtn__3OhsV"}}},[[31,1,2]]]);
//# sourceMappingURL=main.f6472d88.chunk.js.map