{"version":3,"sources":["components/ImageLoader/ImageLoader.module.css","components/Container/Container.module.css","components/ImageCard/transitions/pop.module.css","components/GalleryMain/GalleryMain.module.css","components/GalleryContainer/GalleryContainer.module.css","components/Container/Container.js","components/ImageLoader/ImageLoader.js","components/ImageCard/ImageCard.js","components/GalleryMain/GalleryMain.js","components/GalleryContainer/GalleryContainer.js","App.js","index.js","components/ImageCard/ImageCard.module.css"],"names":["module","exports","Container","children","className","styles","container","defaultProps","ImageLoader","onChange","inputEl","useRef","ref","type","accept","btnEl","onClick","current","click","ImageCard","allImages","onDelete","mainBlock","imageBlock","image","nameText","deleteBtn","TransitionGroup","map","name","imageURL","CSSTransition","timeout","classNames","popTransition","src","alt","width","GalleryMain","state","selectedFiles","handleInputChange","e","file","target","files","upLoadImage","reader","FileReader","onload","event","result","imageData","filter","length","alert","setState","readAsDataURL","deleteImage","images","localStorage","getItem","parsedImages","JSON","parse","this","prevProps","prevState","setItem","stringify","galleryMainBlock","Component","GalleryContainer","galleryBlock","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f6472d88.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputEl\":\"ImageLoader_inputEl__2MTRm\",\"btnEl\":\"ImageLoader_btnEl__10QFw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1w5MW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"pop_enter__3das_\",\"enterActive\":\"pop_enterActive__CJhgm\",\"exit\":\"pop_exit__2mK5S\",\"exitActive\":\"pop_exitActive__15Rex\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryMainBlock\":\"GalleryMain_galleryMainBlock__-oQn4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryBlock\":\"GalleryContainer_galleryBlock__2FI5T\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Container.module.css';\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={styles.container}>{children}</div>;\r\n};\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nContainer.defaultProps = {\r\n  children: [],\r\n};\r\n\r\nexport default Container;\r\n","import React, { useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './ImageLoader.module.css';\r\n\r\nconst ImageLoader = ({ onChange }) => {\r\n  const inputEl = useRef();\r\n  const handleButtonClick = () => {\r\n    inputEl.current.click();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <input\r\n          ref={inputEl}\r\n          className={styles.inputEl}\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n      <button\r\n        type=\"button\"\r\n        className={styles.btnEl}\r\n        onClick={handleButtonClick}\r\n      >\r\n        Add files\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nImageLoader.propTypes = {\r\n  onChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageLoader;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './ImageCard.module.css';\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\nimport popTransition from './transitions/pop.module.css';\r\n\r\nconst ImageCard = ({ allImages, onDelete }) => {\r\n  const { mainBlock, imageBlock, image, nameText, deleteBtn } = styles;\r\n  return (\r\n    <TransitionGroup className={mainBlock}>\r\n      {allImages.map(({ name, imageURL }) => (\r\n        <CSSTransition key={name} timeout={3000} classNames={popTransition}>\r\n          <figure className={imageBlock}>\r\n            <img src={imageURL} className={image} alt=\"\" width=\"200px\" />\r\n            <figcaption className={nameText}>{name}</figcaption>\r\n            <button\r\n              type=\"button\"\r\n              className={deleteBtn}\r\n              onClick={() => onDelete(name)}\r\n            >\r\n              Delete\r\n            </button>\r\n          </figure>\r\n        </CSSTransition>\r\n      ))}\r\n    </TransitionGroup>\r\n  );\r\n};\r\n\r\nImageCard.propTypes = {\r\n  onDelete: PropTypes.func.isRequired,\r\n  imageURL: PropTypes.string,\r\n  allImages: PropTypes.array,\r\n  name: PropTypes.string,\r\n};\r\n\r\nImageCard.defaultProps = {\r\n  allImages: [],\r\n  name: '',\r\n  imageURL: '',\r\n};\r\n\r\nexport default ImageCard;\r\n","import React, { Component } from 'react';\r\n\r\nimport ImageLoader from '../ImageLoader/ImageLoader';\r\nimport ImageCard from '../ImageCard/ImageCard';\r\n\r\nimport styles from './GalleryMain.module.css';\r\n\r\nclass GalleryMain extends Component {\r\n  state = {\r\n    selectedFiles: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    const images = localStorage.getItem('images');\r\n    const parsedImages = JSON.parse(images);\r\n\r\n    if (parsedImages) {\r\n      this.setState({ selectedFiles: parsedImages });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { selectedFiles } = this.state;\r\n    localStorage.setItem('images', JSON.stringify(selectedFiles));\r\n  }\r\n\r\n  handleInputChange = e => {\r\n    let file = e.target.files[0];\r\n\r\n    this.upLoadImage(file);\r\n  };\r\n\r\n  upLoadImage = file => {\r\n    const reader = new FileReader();\r\n\r\n    reader.onload = event => {\r\n      const { result } = event.target;\r\n      const { selectedFiles } = this.state;\r\n      const imageData = {\r\n        imageURL: result,\r\n        name: file.name,\r\n      };\r\n      const filter = selectedFiles.filter(\r\n        image => image.name === imageData.name,\r\n      );\r\n      filter.length > 0\r\n        ? alert('This file already in gallery')\r\n        : this.setState(({ selectedFiles }) => ({\r\n            selectedFiles: [...selectedFiles, imageData],\r\n          }));\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  deleteImage = name => {\r\n    this.setState(({ selectedFiles }) => ({\r\n      selectedFiles: selectedFiles.filter(image => image.name !== name),\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { selectedFiles } = this.state;\r\n    return (\r\n      <div className={styles.galleryMainBlock}>\r\n        <ImageLoader onChange={this.handleInputChange} />\r\n\r\n        <ImageCard allImages={selectedFiles} onDelete={this.deleteImage} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GalleryMain;\r\n","import React from 'react';\r\n\r\nimport GalleryMain from '../GalleryMain/GalleryMain';\r\n\r\nimport styles from './GalleryContainer.module.css';\r\n\r\nconst GalleryContainer = () => {\r\n  return (\r\n    <div className={styles.galleryBlock}>\r\n      <GalleryMain />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GalleryContainer;\r\n","import React from 'react';\n\nimport Container from './components/Container/Container';\nimport GalleryContainer from './components/GalleryContainer/GalleryContainer';\n\nconst App = () => {\n  return (\n    <Container>\n      <GalleryContainer />\n    </Container>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainBlock\":\"ImageCard_mainBlock__3iPFS\",\"imageBlock\":\"ImageCard_imageBlock__UbYEh\",\"image\":\"ImageCard_image__3v77_\",\"nameText\":\"ImageCard_nameText__6hKJV\",\"deleteBtn\":\"ImageCard_deleteBtn__3OhsV\"};"],"sourceRoot":""}